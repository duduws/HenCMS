PNotify.prototype.options.styling="bootstrap3";var stack_bar_bottom={"dir1":"up","dir2":"right","spacing1":0,"spacing2":0};var autodj=0;var playing=false;var checkPushstate={available:false,check:function(){if(!!(window.history&&history.pushState)){checkPushstate.available=true;checkPushstate.yes();}else{checkPushstate.available=false;checkPushstate.no();}},yes:function(){if(window.location.hash){var u=window.location.hash;var location='/'+u.replace('#!/','');window.location.replace(location);};},no:function(){var u=window.location.pathname;if(u!=''&&!window.location.hash){var location='/#!'+u;var location2='http://habbobites.com/'+location;window.location.replace(location);};}};checkPushstate.check();$(document).ready(function(){if(checkPushstate.available!=true){loadPage();};});window.onpopstate=function(e){loadPage();};window.onhashchange=function(e){loadPage();};$(function(){$(document).on("click","a",function(){var path=$(this).attr('href');if($(this).data("exclude")||$(this).attr("target")=="_blank"){return true;}
if(path!="#"&&!path.match("^javascript")){var filename=path.substr(1,path.length);if(filename==''){filename='home';};if(checkPushstate.available==true){history.pushState(null,'HabboBites','/'+filename);}else{window.location.hash='!/'+filename;}
if(!$(this).data("switch")){ajaxContent(filename);}else{switchContent(filename);}}
return false;});});function redirectPage(filename){if(checkPushstate.available==true){history.pushState(null,'HabboBites','/'+filename);}else{window.location.hash='!/'+filename;}
ajaxContent(filename);}
function loadPage(){if(checkPushstate.available==true){var path=window.location.pathname.substring(1);}else{}
var filename=path;if(filename==''){filename='home';};ajaxContent(filename);};function switchPage(filename){if(checkPushstate.available==true){history.pushState(null,'HabboBites','/'+filename);}else{window.location.hash='!/'+filename;}
$('#page').load('/'+filename+' #dynamic',function(response,status,xhr){$response=$(response);var title=$(response).filter('title').text();$('#js').empty();document.title=title;$response.find('script').appendTo('#js');if(status=="error"){$('.content-box').html('<div class="col-md-8"> <div class="content"> <h3 style="margin-top: 0; margin-bottom: 20px;">Whoops... Connection to server failed.</h3> <p>There was a problem connecting to the HabboBites server...</p> <p>Check that you have an active internet connection, or try refreshing the page.</p> </div> </div> <div class="col-md-4"> <div class="content"> <div class="title">What to do?</div> <ul> <li>Contact <strong>Funkyhabbo</strong></li> <li>Try <strong>another link</strong> in the navigation</li> <li><strong>Refresh this page</strong> fifty times</li> </ul> </div> <div class="side-banners"> </div> </div>');}
navigate();});}
function ajaxContent(filename){$('#page').load('/'+filename+' #dynamic',function(response,status,xhr){$response=$(response);var title=$(response).filter('title').text();$('#js').empty();document.title=title;$response.find('script').appendTo('#js');if(status=="error"){$('.content-box').html('<div class="col-md-8"> <div class="content"> <h3 style="margin-top: 0; margin-bottom: 20px;">Whoops... Connection to server failed.</h3> <p>There was a problem connecting to the HabboBites server...</p> <p>Check that you have an active internet connection, or try refreshing the page.</p> </div> </div> <div class="col-md-4"> <div class="content"> <div class="title">What to do?</div> <ul> <li>Contact <strong>Funkyhabbo</strong></li> <li>Try <strong>another link</strong> in the navigation</li> <li><strong>Refresh this page</strong> fifty times</li> </ul> </div> <div class="side-banners"> </div> </div>');}
navigate();window.scrollTo(0,0);});};function switchContent(filename){$('#page').load('/'+filename+' #dynamic',function(response,status,xhr){$response=$(response);var title=$(response).filter('title').text();$('#js').empty();document.title=title;$response.find('script').appendTo('#js');if(status=="error"){$('.content-box').html('<div class="col-md-8"> <div class="content"> <h3 style="margin-top: 0; margin-bottom: 20px;">Whoops... Connection to server failed.</h3> <p>There was a problem connecting to the HabboBites server...</p> <p>Check that you have an active internet connection, or try refreshing the page.</p> </div> </div> <div class="col-md-4"> <div class="content"> <div class="title">What to do?</div> <ul> <li>Contact <strong>Funkyhabbo</strong></li> <li>Try <strong>another link</strong> in the navigation</li> <li><strong>Refresh this page</strong> fifty times</li> </ul> </div> <div class="side-banners"> </div> </div>');}
navigate();});};function navigate(){if($('.player-module').hasClass("stop")){$('.radio-control').removeClass('radio-play').addClass('radio-stop').hide().fadeIn();}
LoadStats();};$(document).ready(function(){playing=false;document.cookie="radio=0";$(document).on('click','.radio-volume-up',function(){var player=$("#player");var volume=player.prop("volume")+0.1;if(volume>1){volume=1;}
player.prop("volume",volume);});$(document).on('click','.radio-volume-down',function(){var player=$('#player');var volume=player.prop("volume")-0.1;if(volume<0){volume=0;}
player.prop("volume",volume);});$("body").undelegate(".radio-control","click").delegate(".radio-control","click",function(){if($(this).hasClass("radio-disabled")){return;}
if(playing==false){playing=true;playRadio();$('.radio-control').removeClass('radio-play').addClass('radio-stop').hide().fadeIn();if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){new PNotify({title:'Data Usage Warning!',text:'Bites Radio uses significant amount of mobile data. We recommend switching to WiFi while tuning in.',type:'info',icon:'glyphicon glyphicon-info-sign'});}else{$('.player-module').removeClass('play').addClass('stop');new PNotify({title:'Now playing',text:'Remember to send in your song requests!',type:'info',icon:'glyphicon glyphicon-play'});}
LoadStats();$('.radio-control').popover('hide');$(".radio-tv").show();$(".radio-pointer").hide();}else{playing=false;stopRadio();$(".radio-tv").hide();$('.radio-control').removeClass('radio-stop').addClass('radio-play').hide().fadeIn();$('.player-module').removeClass('stop').addClass('play');}});});function popupRadio(){newwindow=window.open("https://www.habbobites.com/radioplayer",'HabboBites Radio','height=180,width=900');if(window.focus){newwindow.focus()}
return false;}
$(function(){$(document).on('submit','.web-form',function(){$.ajax({data:$(this).serialize(),type:$(this).attr('method'),url:$(this).attr('action'),success:function(response){var $result=$(response).find('#dynamic');$('#page').html($result);navigate();$('.nav-responsive-hidden').slicknav({prependTo:'#header-left',label:''});$('[data-toggle="tooltip"]').tooltip();$('[data-toggle="popover"]').popover();}});return false;});});function LoadStats()
{var dataString={playing:playing};$.ajax({cache:false,url:"/ajax/radioGetShow.php",dataType:"json",type:'POST',data:dataString,success:function(data){if(data.poll==1){$(".radio-poll-sign").show();}else{$(".radio-poll-sign").hide();}
if(data.dj_robot==0){$('.current-show').html('<span class="hidden-xs">'+data.title+'</span> <div class="like-dj"></div> <a href="/request"><div class="radio-request"></div></a>');$('#radio-dj-avatar').html('<div class="dj-avatar" style="background-image: url(https://www.habbo.com/habbo-imaging/avatarimage?user='+data.habbo+'&amp;head_direction=3&amp;action=wav,crr=0&amp;gesture=sml);"></div>');$('.current-song').html('<a href="/request" style="color: white;">'+data.now_playing+'</a>'+(data.now_playing!="HabboBites Radio"?' <div class="like-song"></div>':''));if(data.can_play==1){$(".radio-control").removeClass("radio-disabled");}else{$(".radio-control").addClass("radio-disabled");}
autodj=0;}else{$('.current-show').html('<span class="hidden-xs">The Automated Show w/ DJ Robot</span>');$('#radio-dj-avatar').html('<div class="dj-robot"></div>');$('.current-song').html('<a href="/request" style="color: white;">'+data.now_playing+'</a>'+(data.now_playing!="HabboBites Radio"?' <div class="like-song"></div>':''));autodj=1;}}});}
setInterval(LoadStats,30000);$(document).ready(function(){$.ajax({cache:false,url:"/ajax/radioGetShow.php",dataType:"json",success:function(data){if(data.poll==1){$(".radio-poll-sign").show();}else{$(".radio-poll-sign").hide();}
if(data.dj_robot==0){$('.current-show').html('<span class="hidden-xs">'+data.title+'</span> <div class="like-dj"></div> <a href="/request"><div class="radio-request"></div></a>');$('#radio-dj-avatar').html('<div class="dj-avatar" style="background-image: url(https://www.habbo.com/habbo-imaging/avatarimage?user='+data.habbo+'&amp;head_direction=3&amp;action=wav,crr=0&amp;gesture=sml);"></div>');$('.current-song').html('<a href="/request" style="color: white;">'+data.now_playing+'</a>'+(data.now_playing!="HabboBites Radio"?' <div class="like-song"></div>':''));$(".radio-control").removeClass("radio-disabled");$('<div class="radio-pointer" style="z-index: 100; position: absolute; background: url(https://www.habbobites.com/images/canvas/stickers/sticker_arrow_up.gif); height: 56px; width: 36px;"></div>').appendTo('body');$(".radio-pointer").css("left",$(".radio-play").position().left+3).css("top",$(".radio-play").position().top+105);new PNotify({title:data.username+' is On Air!',text:'Click on the green play button to tune in to DJ '+data.username+'!',type:'info',icon:'glyphicon glyphicon-star',hide:false});autodj=0;}else{autodj=1;$('.current-show').html('<span class="hidden-xs">The Automated Show w/ DJ Robot</span>');$('#radio-dj-avatar').html('<div class="dj-robot"></div>');$('.current-song').html('<a href="/request" style="color: white;">'+data.now_playing+'</a>'+(data.now_playing!="HabboBites Radio"?' <div class="like-song"></div>':''));}}});});$("body").delegate(".like-song","click",function(){$.ajax
({url:'/ajax/radioLikeSong.php',type:'post',success:function(result)
{if(result.result=="guest"){new PNotify({title:'Whoops!',text:'You need to be logged in to like a song!',type:'info',icon:'glyphicon glyphicon-envelope'});}else if(result.result=="error"){new PNotify({title:'Whoops!',text:'An error occured. Please try again later.',type:'info',icon:'glyphicon glyphicon-envelope'});}else if(result.result=="failed"){new PNotify({title:'Wow... Calm down!',text:'You already liked this song recently.',type:'info',icon:'glyphicon glyphicon-envelope'});}else{new PNotify({title:'Great taste of music!',text:'We love that song too!',type:'info',icon:'glyphicon glyphicon-envelope'});}}});});$("body").undelegate(".duckie","click").delegate(".duckie","click",function(){var verify=$(this).attr("data-verify");$.ajax
({url:'/ajax/duckie.php?verify='+verify,type:'post',success:function(result)
{if(result.result=="guest"){new PNotify({title:'You need to login!',text:'Quick, login to catch this!',type:'info',icon:'glyphicon glyphicon-envelope'});}else if(result.result=="error"){new PNotify({title:'Too late!',text:'It ran away!',type:'info',icon:'glyphicon glyphicon-envelope'});}else if(result.result=="used"){new PNotify({title:'Too late!',text:'Someone caught it before you!',type:'info',icon:'glyphicon glyphicon-envelope'});}else if(result.result=="expired"){new PNotify({title:'Too late!',text:'It ran away!',type:'info',icon:'glyphicon glyphicon-envelope'});}else if(result.result=="success"){new PNotify({title:result.message.title,text:'Nice catch!',type:'info',icon:'glyphicon glyphicon-envelope'});}else{}}});$(this).hide();});$("body").undelegate(".theduckie","click").delegate(".theduckie","click",function(){var verify=$(this).attr("data-verify");$.ajax
({url:'/ajax/theduckie.php?verify='+verify,type:'post',success:function(result)
{if(result.result=="guest"){new PNotify({title:'You need to login!',text:'You FOUND Duckie! Quick, login to catch him!',type:'info',icon:'glyphicon glyphicon-envelope'});}else if(result.result=="error"){new PNotify({title:'Too late!',text:'The duckie has ran away!',type:'info',icon:'glyphicon glyphicon-envelope'});$(this).hide();}else if(result.result=="success"){animateDiv();new PNotify({title:'Free Duckie?',text:'You wish!',type:'info',icon:'glyphicon glyphicon-envelope',hide:false});setTimeout(function(){$('.theduckie').fadeOut('fast');},60000);}else{}}});});$(function(){"use strict";$.fn.sparkle=function(options){return this.each(function(k,v){var $this=$(v);var settings=$.extend({color:"#FFFFFF",count:30,overlap:0,speed:1,minSize:4,maxSize:7,direction:"both"},options);var sparkle=new Sparkle($this,settings);$this.on({"mouseover.sparkle focus.sparkle":function(){$this.trigger("start.sparkle");},"mouseout.sparkle blur.sparkle":function(){$this.trigger("stop.sparkle");},"start.sparkle":function(){sparkle.start($this);},"stop.sparkle":function(){sparkle.stop();},"resize.sparkle":function(){sparkle.resize($this);sparkle.setParticles();}});});};function Sparkle($parent,options){this.options=options;this.init($parent);}
Sparkle.prototype={"init":function($parent){var cssOpts={position:"absolute",top:"-"+this.options.overlap+"px",left:"-"+this.options.overlap+"px","pointer-events":"none"};if($parent.css("position")==="static"){$parent.css("position","relative");}
this.$canvas=$("<canvas>").addClass("sparkle-canvas").css(cssOpts).hide();if($parent.css("z-index")!=="auto"){var zdex=parseInt($parent.css("z-index"),10);this.$canvas.css("z-index",zdex+1);}
var singletons="IMG|BR|HR|INPUT";var regexp="\\b"+$parent[0].nodeName+"\\b";this.isSingleton=new RegExp(regexp).test(singletons);if(this.isSingleton){this.$canvas.insertAfter($parent);}else{this.$canvas.appendTo($parent);}
this.canvas=this.$canvas[0];this.context=this.canvas.getContext("2d");this.sprite=new Image();this.sprite.src=this.datauri;this.spriteCoords=[0,6,13,20];this.canvas.width=$parent.outerWidth()*1.2;this.canvas.height=$parent.outerHeight()*1.2;this.setParticles();this.anim=null;this.fade=false;},"randomParticleSize":function(){return Math.floor(Math.random()*(this.options.maxSize-this.options.minSize+1)+this.options.minSize);},"randomHexColor":function(){return '#'+('000000'+Math.floor(Math.random()*16777215).toString(16)).slice(-6);},"setParticles":function(){this.particles=this.createSparkles(this.canvas.width,this.canvas.height);},"createSparkles":function(w,h){var tempicles=[];for(var i=0;i<this.options.count;i++){var color;if(this.options.color==="rainbow"){color=this.randomHexColor();}else if($.type(this.options.color)==="array"){color=this.options.color[Math.floor(Math.random()*this.options.color.length)];}else{color=this.options.color;}
var yDelta=Math.floor(Math.random()*1000)-500;if(this.options.direction==="down"){yDelta=Math.floor(Math.random()*500)-550;}else if(this.options.direction==="up"){yDelta=Math.floor(Math.random()*500)+50;}
tempicles[i]={position:{x:Math.floor(Math.random()*w),y:Math.floor(Math.random()*h)},style:this.spriteCoords[Math.floor(Math.random()*this.spriteCoords.length)],delta:{x:Math.floor(Math.random()*1000)-500,y:yDelta},size:this.randomParticleSize(),color:color};}
return tempicles;},"draw":function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height);for(var i=0;i<this.particles.length;i++){this.context.save();this.context.globalAlpha=this.particles[i].opacity;this.context.drawImage(this.sprite,this.particles[i].style,0,7,7,this.particles[i].position.x,this.particles[i].position.y,this.particles[i].size,this.particles[i].size);if(this.options.color){this.context.globalCompositeOperation="source-atop";this.context.globalAlpha=0.6;this.context.fillStyle=this.particles[i].color;this.context.fillRect(this.particles[i].position.x,this.particles[i].position.y,7,7);}
this.context.restore();}},"update":function(){var _this=this;this.anim=window.requestAnimationFrame(function(time){var flatTime=Math.floor(time);for(var i=0;i<_this.particles.length;i++){var p=_this.particles[i];var resizeParticle=false;var randX=(Math.random()>Math.random()*2);var randY=(Math.random()<Math.random()*5);if(randX){p.position.x+=((p.delta.x*_this.options.speed)/1500);}
if(randY){p.position.y-=((p.delta.y*_this.options.speed)/800);}
if(p.position.x>_this.canvas.width){p.position.x=-(_this.options.maxSize);resizeParticle=true;}else if(p.position.x<-(_this.options.maxSize)){p.position.x=_this.canvas.width;resizeParticle=true;}
if(p.position.y>_this.canvas.height){p.position.y=-(_this.options.maxSize);p.position.x=Math.floor(Math.random()*_this.canvas.width);resizeParticle=true;}else if(p.position.y<-(_this.options.maxSize)){p.position.y=_this.canvas.height;p.position.x=Math.floor(Math.random()*_this.canvas.width);resizeParticle=true;}
if(resizeParticle){p.size=_this.randomParticleSize();p.opacity=0.4;}
if(_this.fade){p.opacity-=0.035;}else{p.opacity-=0.005;}
if(p.opacity<=0.15){p.opacity=(_this.fade)?0:1.2;}
if(flatTime%Math.floor((Math.random()*7)+1)===0){p.style=_this.spriteCoords[Math.floor(Math.random()*_this.spriteCoords.length)];}}
_this.draw(time);if(_this.fade){_this.fadeCount-=1;if(_this.fadeCount<0){window.cancelAnimationFrame(_this.anim);_this.$canvas.hide();}else{_this.update();}}else{_this.update();}});},"resize":function($parent){this.canvas.width=$parent.outerWidth()+(this.options.overlap*2);this.canvas.height=$parent.outerHeight()+(this.options.overlap*2);if(this.isSingleton){this.$canvas.css({top:$parent.position().top-this.options.overlap,left:$parent.position().left-this.options.overlap});}},"start":function($parent){this.resize($parent);this.$canvas.show();window.cancelAnimationFrame(this.anim);for(var i=0;i<this.options.count;i++){this.particles[i].opacity=Math.random();}
this.fade=false;this.update();},"stop":function(){this.fade=true;this.fadeCount=100;},"datauri":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAHCAYAAAD5wDa1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozNDNFMzM5REEyMkUxMUUzOEE3NEI3Q0U1QUIzMTc4NiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozNDNFMzM5RUEyMkUxMUUzOEE3NEI3Q0U1QUIzMTc4NiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjM0M0UzMzlCQTIyRTExRTM4QTc0QjdDRTVBQjMxNzg2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjM0M0UzMzlDQTIyRTExRTM4QTc0QjdDRTVBQjMxNzg2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+jzOsUQAAANhJREFUeNqsks0KhCAUhW/Sz6pFSc1AD9HL+OBFbdsVOKWLajH9EE7GFBEjOMxcUNHD8dxPBCEE/DKyLGMqraoqcd4j0ChpUmlBEGCFRBzH2dbj5JycJAn90CEpy1J2SK4apVSM4yiKonhePYwxMU2TaJrm8BpykpWmKQ3D8FbX9SOO4/tOhDEG0zRhGAZo2xaiKDLyPGeSyPM8sCxr868+WC/mvu9j13XBtm1ACME8z7AsC/R9r0fGOf+arOu6jUwS7l6tT/B+xo+aDFRo5BykHfav3/gSYAAtIdQ1IT0puAAAAABJRU5ErkJggg=="};});$("body").undelegate(".angbao-open","click").delegate(".angbao-open","click",function(){$.ajax
({url:'/ajax/angbao.php',type:'post',success:function(result)
{if(result.result=="guest"){new PNotify({title:'You need to login!',text:'Login to claim your angbao!',type:'info',icon:'glyphicon glyphicon-envelope'});$('#angbaobox').modal('hide');}else if(result.result=="limit"){new PNotify({title:'Whoops!',text:'You\'ve already opened your angbao today! Try again tomorrow.',type:'info',icon:'glyphicon glyphicon-envelope'});$('#angbaobox').modal('hide');}else if(result.result=="error"){new PNotify({title:'Whoops!',text:'An error occured. Please try again later.',type:'info',icon:'glyphicon glyphicon-envelope'});$('#angbaobox').modal('hide');}else if(result.result=="success"){$('.angbao-prize').text(result.prize).hide().fadeIn();$(".angbao-open").sparkle();$(".angbao-open").off("mouseover.sparkle").off("mouseout.sparkle");$(".angbao-open").trigger("start.sparkle").on("click",function(){$(this).trigger("stop.sparkle");});setTimeout(function(){$('#angbaobox').modal('hide');},20000);}else{}}});});var pollNotifications=setInterval(function(){if(notificationCount==1||hb_member==0){}else{$.ajax({cache:false,url:"/ajax/notifications.php",dataType:"json",success:function(data){if(data.notifications==1){$('.notification-icon').popover({html:true,placement:'bottom',content:'<strong>Unread notifications!</strong> Click here to view your notifications.'});$('.notification-icon').popover('show');$('.notification-console').attr('src','/images/icons/mail_red_icon.gif');$.playSound('/others/notification');notificationCount=1;document.title="("+data.count+") "+document.title;if(Notification.permission=='granted'){var options={body:"You have new notifications on HabboBites!",icon:"https://www.habbobites.com/images/site/logo.png"}
var notificationsPopup=new Notification("Wakey wakey, "+hb_username+"!",options);notificationsPopup.onclick=function(event){window.focus();redirectPage("notifications");notificationsPopup.close();}}}}});}},360000);setInterval(function(){if(new Date().getMinutes()===0){$.ajax({cache:false,url:"/ajax/currentEvent.php",dataType:"json",success:function(data){if(data.result=="ongoing"){new PNotify({title:'Current Event',text:'Join us for <strong>'+data.event+'</strong> w/ '+data.habbo+'!',hide:false,type:'info',icon:'glyphicon glyphicon-star'});$.playSound('/others/notification');}}});}},60000);$("body").undelegate(".allowPolling","click").delegate(".allowPolling","click",function(){Notification.requestPermission().then(function(result){if(result=='granted'){new PNotify({title:'Addict, confirmed!',text:'You will now receive desktop notifications from HabboBites!',type:'info',icon:'glyphicon glyphicon-envelope'});}else{new PNotify({title:'Whoops!',text:'You need to grant HabboBites permission to make use of desktop notifications!',type:'info',icon:'glyphicon glyphicon-envelope'});}});});(function($){$.extend({playSound:function(){return $('<audio autoplay="autoplay" style="display:none;">'
+'<source src="'+arguments[0]+'.mp3" />'
+'<embed src="'+arguments[0]+'.mp3" hidden="true" autostart="true" loop="false" class="playSound" />'
+'</audio>').append('#js');}});})(jQuery);function wrapText(elementID,openTag,closeTag){var textArea=document.getElementById(elementID);if(typeof(textArea.selectionStart)!="undefined"){var begin=textArea.value.substr(0,textArea.selectionStart);var selection=textArea.value.substr(textArea.selectionStart,textArea.selectionEnd-textArea.selectionStart);var end=textArea.value.substr(textArea.selectionEnd);textArea.value=begin+openTag+selection+closeTag+end;}}
function addText(elId,text){document.getElementById(elId).value+=text;}
function colourPicker(elementID){var textArea=document.getElementById(elementID);var begin=textArea.value.substr(0,textArea.selectionStart);var selection=textArea.value.substr(textArea.selectionStart,textArea.selectionEnd-textArea.selectionStart);var end=textArea.value.substr(textArea.selectionEnd);if(document.getElementById('colourpicker').value=='red'){textArea.value=begin+"[color=red]"+selection+"[/color]"+end;}else if(document.getElementById('colourpicker').value=='orange'){textArea.value=begin+"[color=orange]"+selection+"[/color]"+end;}else if(document.getElementById('colourpicker').value=='blue'){textArea.value=begin+"[color=blue]"+selection+"[/color]"+end;}else if(document.getElementById('colourpicker').value=='green'){textArea.value=begin+"[color=green]"+selection+"[/color]"+end;}else if(document.getElementById('colourpicker').value=='custom'){textArea.value=begin+"[color=ENTERCOLOUR]"+selection+"[/color]"+end;}else{}
var select=document.getElementById("colourpicker");select.options[0].selected=true;}
$("body").undelegate(".modalTrigger","click").delegate(".modalTrigger","click",function(){var type=$(this).attr("data-type");var id=$(this).attr("data-id");$(".report-desc").val();if(type=="forumReport"){$('#modal').modal('show').find('.modal-title').text("Report post");$('#modal').modal('show').find('.modal-body').html('<p>You are about to report this post for violating our <a href="/page/terms-of-service" target="_blank">Terms of Service</a>. False reports may lead to penalties towards your account.</p><textarea class="form-control report-desc" rows="3" placeholder="Describe your report..." maxlength="500"></textarea><div style="margin-top: 10px;" class="btn btn-danger btn-sm forum-post-report" data-id="'+id+'">Report</div>');}else if(type=="feedReport"){$('#modal').modal('show').find('.modal-title').text("Report post");$('#modal').modal('show').find('.modal-body').html('<p>You are about to report this post for violating our <a href="/page/terms-of-service" target="_blank">Terms of Service</a>. False reports may lead to penalties towards your account.</p><textarea class="form-control report-desc" rows="3" placeholder="Describe your report..." maxlength="500"></textarea><div style="margin-top: 10px;" class="btn btn-danger btn-sm fc-report" data-id="'+id+'" data-type="1">Report</div>');}else if(type=="feedCommentReport"){$('#modal').modal('show').find('.modal-title').text("Report comment");$('#modal').modal('show').find('.modal-body').html('<p>You are about to report this comment for violating our <a href="/page/terms-of-service" target="_blank">Terms of Service</a>. False reports may lead to penalties towards your account.</p><textarea class="form-control report-desc" rows="3" placeholder="Describe your report..." maxlength="500"></textarea><div style="margin-top: 10px;" class="btn btn-danger btn-sm fc-report" data-id="'+id+'" data-type="2">Report</div>');}else if(type=="creationReport"){$('#modal').modal('show').find('.modal-title').text("Report creation");$('#modal').modal('show').find('.modal-body').html('<p>You are about to report this creation for violating our <a href="/page/terms-of-service" target="_blank">Terms of Service</a>. False reports may lead to penalties towards your account.</p><textarea class="form-control report-desc" rows="3" placeholder="Describe your report..." maxlength="500"></textarea><div style="margin-top: 10px;" class="btn btn-danger btn-sm cv-report" data-id="'+id+'" data-type="1">Report</div>');}else if(type=="creationCommentReport"){$('#modal').modal('show').find('.modal-title').text("Report comment");$('#modal').modal('show').find('.modal-body').html('<p>You are about to report this comment for violating our <a href="/page/terms-of-service" target="_blank">Terms of Service</a>. False reports may lead to penalties towards your account.</p><textarea class="form-control report-desc" rows="3" placeholder="Describe your report..." maxlength="500"></textarea><div style="margin-top: 10px;" class="btn btn-danger btn-sm cv-report" data-id="'+id+'" data-type="2">Report</div>');}else if(type=="blogPostReport"){$('#modal').modal('show').find('.modal-title').text("Report post");$('#modal').modal('show').find('.modal-body').html('<p>You are about to report this blog post for violating our <a href="/page/terms-of-service" target="_blank">Terms of Service</a>. False reports may lead to penalties towards your account.</p><textarea class="form-control report-desc" rows="3" placeholder="Describe your report..." maxlength="500"></textarea><div style="margin-top: 10px;" class="btn btn-danger btn-sm blog-post-report" data-id="'+id+'" data-type="1">Report</div>');}else if(type=="blogCommentReport"){$('#modal').modal('show').find('.modal-title').text("Report comment");$('#modal').modal('show').find('.modal-body').html('<p>You are about to report this blog comment for violating our <a href="/page/terms-of-service" target="_blank">Terms of Service</a>. False reports may lead to penalties towards your account.</p><textarea class="form-control report-desc" rows="3" placeholder="Describe your report..." maxlength="500"></textarea><div style="margin-top: 10px;" class="btn btn-danger btn-sm blog-comment-report" data-id="'+id+'" data-type="2">Report</div>');}else{}});function makeNewPosition(){var h=$(window).height()-50;var w=$(window).width()-50;var nh=Math.floor(Math.random()*h);var nw=Math.floor(Math.random()*w);return[nh,nw];}
function animateDiv(){var newq=makeNewPosition();$('.theduckie').animate({top:newq[0],left:newq[1]},function(){animateDiv();});};$(document).ready(function(){setTimeout(function(){if($('.ad-placement').height()<=0){$('.ad-placement').after('<div class="content"><div class="title">Reminder</div>Please disable AdBlock to continue supporting HabboBites! You\'re free to continue surfing HabboBites, however, features like Daily Gifts and giveaways will not be available with AdBlock activated.</div>');}},5000);});$("body").undelegate(".signupOpen","click").delegate(".signupOpen","click",function(){$('.signupDropDown .signupDashboard').slideToggle({direction:"up"},300);$(this).toggleClass('signupClose');});function secondsTimeSpanToHMS(s){var h=Math.floor(s/3600);s-=h*3600;var m=Math.floor(s/60);s-=m*60;return h+"hrs "+(m<10?'0'+m:m)+"mins ";}
$("body").undelegate(".like-dj","click").delegate(".like-dj","click",function(){$.ajax
({url:'/ajax/radioLikeDJ.php',type:'post',success:function(result)
{if(result.result=="guest"){new PNotify({title:'Whoops!',text:'You need to be logged in to like a presenter!',type:'info',icon:'glyphicon glyphicon-envelope'});}else if(result.result=="error"){new PNotify({title:'Whoops!',text:'No radio presenter booked for this slot.',type:'info',icon:'glyphicon glyphicon-envelope'});}else if(result.result=="liked"){new PNotify({title:'Super-fan confirmed.',text:'Calm down! You can like this presenter again in the next hour.',type:'info',icon:'glyphicon glyphicon-envelope'});$(".dj-avatar").sparkle();$(".dj-avatar").trigger("start.sparkle");}else{new PNotify({title:'Aww, how nice!',text:'This presenter will be so happy!',type:'info',icon:'glyphicon glyphicon-envelope'});$(".dj-avatar").sparkle();$(".dj-avatar").trigger("start.sparkle");}}});});$("body").undelegate(".like-host","click").delegate(".like-host","click",function(){$.ajax
({url:'/ajax/eventLikeHost.php',type:'post',success:function(result)
{if(result.result=="guest"){new PNotify({title:'Whoops!',text:'You need to be logged in to like an event!',type:'info',icon:'glyphicon glyphicon-envelope'});}else if(result.result=="error"){new PNotify({title:'Whoops!',text:'No event booked for this slot.',type:'info',icon:'glyphicon glyphicon-envelope'});}else if(result.result=="liked"){new PNotify({title:'Super-fan confirmed.',text:'Calm down! You can like this event host again in the next hour.',type:'info',icon:'glyphicon glyphicon-envelope'});}else{new PNotify({title:'Wohoo!',text:'We\'re glad you enjoy this event!',type:'info',icon:'glyphicon glyphicon-envelope'});}}});});$("body").undelegate(".forum-icon-selection","click").delegate(".forum-icon-selection","click",function(){if($(this).hasClass("forum-setting-check")){$("#icon"+(parseInt($(this).attr("data-numbering")))).val("");switch(parseInt($(this).attr("data-numbering"))){case 1:$("#icon1").val($("#icon2").val());$(".forum-icon-selection[data-numbering='2']").attr("data-numbering",1);$("#icon2").val($("#icon3").val());$(".forum-icon-selection[data-numbering='3']").attr("data-numbering",2);$("#icon3").val("");break;case 2:$("#icon2").val($("#icon3").val());$(".forum-icon-selection[data-numbering='3']").attr("data-numbering",2);$("#icon3").val("");break;case 3:$("#icon3").val("");$(".forum-icon-selection[data-numbering='3']").attr("data-numbering",0);break;}
$(this).toggleClass("forum-setting-check");$(this).attr("data-numbering",0);selected--;}else{if(selected==3){new PNotify({title:'Oops!',text:'You can only choose up to 3 forum icons to display!',type:'info',icon:'glyphicon glyphicon-envelope'});$(this).next().prop('checked',true);}else{if(selected==0){$("#icon1").val($(this).attr("data-id"));$(this).attr("data-numbering",1);}else if(selected==1){$("#icon2").val($(this).attr("data-id"));$(this).attr("data-numbering",2);}else{$("#icon3").val($(this).attr("data-id"));$(this).attr("data-numbering",3);}
$(this).toggleClass("forum-setting-check");selected++;}}
if($("#icon1").val()){$(".forum-icon-1").html('<img src="https://www.habbobites.com/images/forum/icons/'+$("#icon1").val()+'.png" class="img-check">');}else{$(".forum-icon-1").html("");}
if($("#icon2").val()){$(".forum-icon-2").html('<img src="https://www.habbobites.com/images/forum/icons/'+$("#icon2").val()+'.png" class="img-check">');}else{$(".forum-icon-2").html("");}
if($("#icon3").val()){$(".forum-icon-3").html('<img src="https://www.habbobites.com/images/forum/icons/'+$("#icon3").val()+'.png" class="img-check">');}else{$(".forum-icon-3").html("");}});$("body").undelegate(".giftbox-open","click").delegate(".giftbox-open","click",function(){$.ajax
({url:'/ajax/giftbox.php',type:'post',success:function(result)
{if(result.result=="guest"){new PNotify({title:'You need to login!',text:'Login to open your giftbox!',type:'info',icon:'glyphicon glyphicon-envelope'});$('#giftbox').modal('hide');}else if(result.result=="limit"){new PNotify({title:'Whoops!',text:'You\'ve already opened your giftbox today! Try again tomorrow.',type:'info',icon:'glyphicon glyphicon-envelope'});$('#giftbox').modal('hide');}else if(result.result=="error"){new PNotify({title:'Whoops!',text:'An error occured. Please try again later.',type:'info',icon:'glyphicon glyphicon-envelope'});$('#giftbox').modal('hide');}else if(result.result=="success"){$('.giftbox-prize').text(result.prize).hide().fadeIn();$('.giftbox-gift').html('<img src="/images/site/gift-unwrapped.png"/>').hide().fadeIn();$('.giftbox-desc').text('You giftbox contains...');$(".giftbox-open").sparkle();$(".giftbox-open").off("mouseover.sparkle").off("mouseout.sparkle");$(".giftbox-open").trigger("start.sparkle").on("click",function(){$(this).trigger("stop.sparkle");});setTimeout(function(){$('#giftbox').modal('hide');},20000);}else{}}});});var fs=window.RequestFileSystem||window.webkitRequestFileSystem;if(fs){fs(window.TEMPORARY,100,function(fs){},function(err){$("#logo").addClass("greyscale");});}
$("body").undelegate(".banner-avatar","mouseover").delegate(".banner-avatar","mouseover",function(){$(".banner-avatar").css("background-image","url(https://www.habbo.com/habbo-imaging/avatarimage?user="+$(this).attr("data-habbo")+"&head_direction=3&action=sit,drk=6&gesture=spk)");});$("body").undelegate(".banner-avatar","mouseout").delegate(".banner-avatar","mouseout",function(){$(".banner-avatar").css("background-image","url(https://www.habbo.com/habbo-imaging/avatarimage?user="+$(this).attr("data-habbo")+"&action=sit,crr=6)");});jQuery.fn.extend({insertAtCaret:function(myValue){return this.each(function(i){if(document.selection){this.focus();var sel=document.selection.createRange();sel.text=myValue;this.focus();}
else if(this.selectionStart||this.selectionStart=='0'){var startPos=this.selectionStart;var endPos=this.selectionEnd;var scrollTop=this.scrollTop;this.value=this.value.substring(0,startPos)+myValue+this.value.substring(endPos,this.value.length);this.focus();this.selectionStart=startPos+myValue.length;this.selectionEnd=startPos+myValue.length;this.scrollTop=scrollTop;}else{this.value+=myValue;this.focus();}});}});$("body").undelegate(".bbcode-button.image","click").delegate(".bbcode-button.image","click",function(){if($(this).data("clicked")==true){$(".dropzone").fadeOut().remove();$(this).data("clicked",false);}else{$(".bbcode-tools").after('<form action="/ajax/imageUploads.php" class="dropzone" style="margin-bottom: 10px;"> <div class="fallback"> <input name="file" type="file" maxFiles="2" multiple /> </div> </form>');$(".dropzone").dropzone({url:"/ajax/imageUploads.php",maxFiles:3,maxFilesize:2,success:function(file,response){if(response.result=="success"){$($(".bbcode-button.image").attr("data-target")).insertAtCaret('[img]'+response.image+'[/img]');console.log($(".bbcode-button.image").attr("data-target"));}else{new PNotify({title:'Whoops!',text:'An error occured! Please try again later.',type:'info',icon:'glyphicon glyphicon-envelope'});}}});$(this).data("clicked",true);}});$("body").undelegate(".infobox","click").delegate(".infobox","click",function(){var content=$(this).attr("data-content");if($(this).attr("data-type")==="predefined"){var infobox=bootbox.dialog({title:$(this).attr("data-title"),message:$(this).attr("data-content")});}else{var infobox=bootbox.dialog({title:$(this).attr("data-title"),message:'<p><i class="fa fa-spin fa-spinner"></i> Loading...</p>'});infobox.init(function(){$.get(content,function(data){$(".bootbox-body").html(data);});});}});$("body").undelegate(".easter-egg","click").delegate(".easter-egg","click",function(){var verify=$(this).attr("data-verify");$.ajax
({url:'/ajax/easterEgg.php?verify='+verify,type:'post',success:function(result)
{if(result.result=="guest"){new PNotify({title:'You need to login!',text:'You found an Easter Egg! Quick, login to collect it!',type:'info',icon:'glyphicon glyphicon-envelope'});}else if(result.result=="error"){new PNotify({title:'Too late!',text:'Your Egg was stolen!',type:'info',icon:'glyphicon glyphicon-envelope'});}else if(result.result=="used"){new PNotify({title:'Too late!',text:'Your Egg was stolen!',type:'info',icon:'glyphicon glyphicon-envelope'});}else if(result.result=="expired"){new PNotify({title:'Too late!',text:'Your Egg was stolen!',type:'info',icon:'glyphicon glyphicon-envelope'});}else if(result.result=="success"){new PNotify({title:'Awesome!',text:'You gound an Easter Egg! Go hunt for more!',type:'info',icon:'glyphicon glyphicon-envelope'});}else{}}});$(this).hide();});$("body").undelegate(".scroll-to-convos","click").delegate(".scroll-to-convos","click",function(){$('html, body').animate({scrollTop:$(".convos").offset().top},500);});$("body").undelegate(".radio-poll-choice","click").delegate(".radio-poll-choice","click",function(){var choice=$(this).attr("data-id");var dataString={choice:choice};$.ajax
({url:'/ajax/radioPollVote.php',type:'POST',cache:false,data:dataString,success:function(result)
{if(result.result=="guest"){new PNotify({title:'Oops!',text:'You need to be logged in to vote!',type:'info',icon:'glyphicon glyphicon-envelope'});}else if(result.result=="error"){new PNotify({title:'Whoops!',text:'An error occured! Please try again later.',type:'info',icon:'glyphicon glyphicon-envelope'});}else if(result.result=="expired"){new PNotify({title:'Too late!',text:'The poll has expired.',type:'info',icon:'glyphicon glyphicon-envelope'});}else if(result.result=="participated"){new PNotify({title:'Oie!',text:'No changing your mind!',type:'info',icon:'glyphicon glyphicon-envelope'});}else if(result.result=="success"){new PNotify({title:'Awesome!',text:'Let\'s see what everyone thinks!',type:'info',icon:'glyphicon glyphicon-envelope'});$(".voted-"+choice).show();}else{}}});});var gifts={load:'/infobox/gifts',dialog:'',selectionModal:function(){gifts.dialog=bootbox.dialog({title:'Daily Gifts',message:'<p><i class="fa fa-spin fa-spinner"></i> Loading...</p>'});gifts.dialog.init(function(){if($('.ad-placement').height()<=0){gifts.dialog.find('.bootbox-body').html('<img src="https://www.habbobites.com/images/site/frank_hands.gif" style="float: right;"/><p>Please disable AdBlock to continue supporting HabboBites!</p><p>You\'re free to continue surfing HabboBites, however, features like Daily Gifts and giveaways will not be available with AdBlock activated.</p>');}else{gifts.dialog.find('.bootbox-body').load(gifts.load);}});},openGift:function(id){var dataString={choice:id};$.ajax
({url:'/ajax/dailyGifts.php',type:'POST',cache:false,data:dataString,dataType:"json",success:function(data)
{if(data.result=="success"){if(data.type=="daily"){$.each(data.preview,function(key,value){$(".gift-box-choice[data-id="+(key+1)+"]").css("opacity","0.5").find(".gift-box-image").css("background","url(/images/site/gift-unwrapped.png) center no-repeat");if(value.icon==0){$(".gift-box-choice[data-id="+(key+1)+"]").find(".gift-item").css("background","url("+value.image+") center no-repeat").html("");}else{$(".gift-box-choice[data-id="+(key+1)+"]").find(".gift-item").css("background","none").html('<span class="user-icon '+value.image+' icon-preview"></span>');}
if(id==key+1){$(".gift-box-choice[data-id="+id+"]").css("background-color","#dff0d8").css("opacity",1).find(".gift-item").hide().delay(500).fadeIn();$(".gift-box-description").html(data.message);}
$(".daily-gift").hide();});}else{if(data.preview.icon==0){$(".gift-box-choice[data-id=4]").find(".gift-box-image").css("background","url(/images/site/gift-unwrapped.png) center no-repeat").find(".gift-item").css("background","url("+data.preview.image+") center no-repeat").html("");}else{$(".gift-box-choice[data-id=4]").find(".gift-box-image").css("background","url(/images/site/gift-unwrapped.png) center no-repeat").find(".gift-item").css("background","none").html('<span class="user-icon '+data.preview.image+' icon-preview"></span>');}
$(".gift-box-choice[data-id=4]").css("background-color","#dff0d8").css("opacity",1).find(".gift-item").hide().delay(500).fadeIn();$(".gift-box-description").html(data.message);}}else{new PNotify({title:data.message.title,text:data.message.description,type:'info',icon:'glyphicon glyphicon-envelope'});}}});}}
$("body").undelegate(".close-modal","click").delegate(".close-modal","click",function(){bootbox.hideAll();});$("body").undelegate(".daily-gift","click").delegate(".daily-gift","click",function(){gifts.selectionModal();});$("body").undelegate(".gift-box-choice","click").delegate(".gift-box-choice","click",function(){gifts.openGift($(this).attr("data-id"));});$("body").undelegate(".daily-gifts-trade","click").delegate(".daily-gifts-trade","click",function(){new PNotify({title:'Finding match...',text:'You are swapping prizes with <strong>Travelling</strong>!',type:'info',icon:'glyphicon glyphicon-random',hide:false});$(".gift-box-description").html('<img src="/images/site/recycle.gif"/> Wohoo! You swapped your prize for a <strong>Throne</strong>!').hide().delay(500).fadeIn();$('.gift-box-choice').each(function(){if($(this).css("opacity")=="1"){$(this).find(".gift-item").css("background",'url(/images/site/throne.gif) center no-repeat').html("").hide().delay(500).fadeIn();}});setTimeout(function()
{var dataString={id:"1"};$.ajax
({url:'/ajax/dailyGiftsTrade.php',type:'POST',cache:false,data:dataString,dataType:"json",success:function(data)
{if(data.result=="success"){new PNotify({title:'Prize swapped!',text:'Your prize was swapped away by <strong>'+data.matched+'</strong>!',type:'info',icon:'glyphicon glyphicon-random',hide:false});$(".gift-box-description").html('<img src="/images/site/recycle.gif"/> <strong>'+data.matched+'</strong> swapped your <strong>Throne</strong> with <strong>1 Bites Point</strong>!').hide().delay(500).fadeIn();$('.gift-box-choice').each(function(){if($(this).css("opacity")=="1"){$(this).find(".gift-item").css("background",'url(/images/site/logo-small.png) center no-repeat').html("").hide().delay(500).fadeIn();}});}else{new PNotify({title:"Oops!",text:"You can only do this once.",type:'info',icon:'glyphicon glyphicon-envelope'});}}});},3000);});$(document).on('click','.toggle-chat',function(){if($(".chat-box").hasClass("closed")){$(".chat-box").css("height","350px");$(".chat-box").removeClass("closed");}else{$(".chat-box").css("height","40px");$(".chat-box").addClass("closed");}});(function(t,e){"use strict";var n={pulses:1,interval:0,returnDelay:0,duration:500};t.fn.pulse=function(u,a,r){var i="destroy"===u;return"function"==typeof a&&(r=a,a={}),a=t.extend({},n,a),a.interval>=0||(a.interval=0),a.returnDelay>=0||(a.returnDelay=0),a.duration>=0||(a.duration=500),a.pulses>=-1||(a.pulses=1),"function"!=typeof r&&(r=function(){}),this.each(function(){function n(){return void 0===s.data("pulse")||s.data("pulse").stop?void 0:a.pulses>-1&&++p>a.pulses?r.apply(s):(s.animate(u,f),void 0)}var o,s=t(this),l={},d=s.data("pulse")||{};d.stop=i,s.data("pulse",d);for(o in u)u.hasOwnProperty(o)&&(l[o]=s.css(o));var p=0,c=t.extend({},a);c.duration=a.duration/2,c.complete=function(){e.setTimeout(n,a.interval)};var f=t.extend({},a);f.duration=a.duration/2,f.complete=function(){e.setTimeout(function(){s.animate(l,c)},a.returnDelay)},n()})}})(jQuery,window,document);